# Frontend Assignment 2025 - รวมลายแทง ร้านลับ

[English version](./README-en.md)

ในแบบทดสอบนี้ ให้ผู้สมัครทำการสร้างเว็บแอพพลิเคชัน "รวมลายแทง ร้านลับ"
โดยในเว็บนี้จะมี "ลายแทง" ซึ่งเป็นการรวบรวมร้านค้า ร้านอาหารต่าง ๆ ที่น่าสนใจเข้าด้วยกัน
เพื่อให้ผู้ใช้งานสามารถค้นพบร้านค้าที่น่าสนใจตรงตามความต้องการของตนเองได้ง่ายขึ้น

แบบทดสอบนี้มีระยะเวลาในการทำทั้งสิ้น 7 วัน นับจากวันที่ผู้สมัครได้รับแบบทดสอบผ่านทางอีเมล

## Prerequisites

สิ่งที่ผู้ทำแบบทดสอบ ควรเตรียมคอมพิวเตอร์ของตนเองให้พร้อม มีรายการดังนี้

- Code editor ตามที่ผู้สมัครถนัด (แนะนำเป็น VS Code)
- NodeJS version 20 ขึ้นไป
  - แนะนำให้ลง NodeJS ผ่านตัวกลางในการจัดการ version (version manager) เช่น `nvm`
  - เปิดใช้งาน `corepack` เพื่อใช้ในการ run package manager อื่น ๆ เช่น `pnpm` `yarn` ได้ด้วยการ run คำสั่ง `corepack enable` ใน terminal

## Tasks

ในการสร้างเว็บแอพพลิเคชัน "รวมลายแทง ร้านลับ" เราจะมีส่วนประกอบอยู่ด้วยกันอยู่ 3 ส่วนทำงานร่วมกัน

1. Data Server - เป็นเสมือนคลังข้อมูลที่รวบรวมบทความที่เป็นลายแทงและข้อมูลร้านอาหารทั้งหมด (เราได้ทำการจัดเตรียมไว้ให้พร้อมใช้งานแล้ว)
2. API Gateway - เป็นตัวกลางที่ทำหน้าที่ส่งข้อมูลกลับมาให้เว็บสามารถแสดงผลตามต้องการได้ถูกต้อง
3. Web - สำหรับให้ผู้ใช้เรียกดูลายแทง และดูข้อมูลของแต่ละร้านในลายแทงได้

ผู้สมัครมีหน้าที่ในการทำส่วนที่ 2 และ 3 ซึ่งก็คือ API Gateway และ Web เพื่อให้ออกมาเป็นเว็บแอพพลิเคชัน "รวมลายแทง ร้านลับ" ได้อย่างสมบูรณ์
โดย requirement ของทั้ง 2 ส่วนนี้จะถูกกล่าวในหัวข้อถัดไป

### 1. API Gateway

เนื่องจาก Software Engineer, Frontend ที่ LINE MAN Wongnai นั้น โดยปกติแล้วเราจะรับผิดชอบตั้งแต่เว็บแอพพลิเคชันจนไปถึง API Gateway **ซึ่งเป็นส่วนที่เป็นจุดศูนย์รวมข้อมูลจาก microservice ต่าง ๆ** ใน LINE MAN Wongnai

ใน task นี้เราจะต้องสร้าง API Gateway Server ที่ใช้**ดึงข้อมูลจาก data server ที่ถูกจัดเตรียมไว้ให้** (สำหรับในแบบทดสอบนี้ data server ที่เราเตรียมมาให้ทำหน้าที่เสมือนเป็น microservice ต่าง ๆ ใน LINE MAN Wongnai) โดยมี requirement ที่จะกล่าวในส่วนถัดไป

**การสร้าง API Gateway Server เขียนด้วยภาษา Typescript สามารถเลือกใช้ framework หรือ library ได้ตามความถนัด**

#### Requirements

- [ ] สร้าง endpoint ต่าง ๆ และส่งข้อมูลกลับมา**ให้เว็บสามารถแสดงผลตามดีไซน์ที่กำหนดไว้ได้อย่างถูกต้อง** (การออกแบบว่า API Gateway จะมี endpoint อะไรบ้าง เป็นหน้าที่ของผู้ทำแบบทดสอบ)
- [ ] เขียน unit test ของแต่ละ endpoint ที่สร้างขึ้นมา เพื่อที่จะมั่นใจได้ว่า endpoint แต่ละเส้นจะ**สามารถใช้งานได้เสมอ และทำงานอย่างถูกต้อง**
- [ ] เมื่อเกิดข้อผิดพลาด ต้องมีการจัดการและคืน response ออกไปได้อย่างเหมาะสม

### 2. Web

![ตัวอย่างการออกแบบ UI ของเว็บ "รวมลายแทง ร้านลับ"](./ui-example.jpg)

> "จะไปเที่ยวกาญจนบุรี อยากรู้จังแถวนั้นมีร้านอะไรน่าไปบ้าง"

> "เห็นเค้าบอกว่ามัทฉะกำลังฮิตติดกระแสในโซเชียว ไหนดูซิว่ามีร้านมัทฉะอะไรน่าไปบ้าง ขอเป็นแบบร้านเฉพาะทางเลยนะ"

> "จะเลี้ยงรุ่น ไปร้านไหนที่จุคนได้เยอะ ๆ"

การสร้าง web application คืองานหลักที่เหล่า Software Engineer, Frontend ที่ LINE MAN Wongnai นั้นโปรดปราณสุด ๆ โดย web technology หลักของเราก็คือ React

ใน task นี้ เราจะต้องสร้าง React web application สำหรับการเรียกดูลายแทงของร้านอาหาร เพื่อให้ผู้ใช้สามารถค้นหา และค้นพบร้านตามที่ตนเองสนใจหรือตรงตามความต้องการของตนเองได้อย่าง่ายดาย

เพื่อความลื่นไหลในการใช้งาน เราจะต้องคำนึงถึง User Experience (UX) ที่ดีเสมอ โดยผู้ผู้ทำแบบทดสอบสามารถเพิ่มเติมและแก้ไขเว็บแอพพลิเคชัน ให้แตกต่างไปจาก design ที่เตรียมไว้ให้ เพื่อพัฒนา UX/UI ของ website ให้ดียิ่งขึ้น

**การสร้าง web application เขียนด้วย framework React ในภาษา Typescript สามารถเลือกใช้ library อื่น ๆ ได้ตามความถนัด**

#### Requirements

สร้าง web application สำหรับแสดงผลลายแทงร้านอาหาร ที่คำนึงถึง UX ที่ดี โดยผู้ใช้งานจะรู้สึกได้ว่าการใช้งานลายแทงของเรานั้นสะดวกสบายและรวดเร็วยิ่งกว่าการใช้วิธีค้นหาโดยตรงจาก search engine **โดยเชื่อมต่อกับ API Gateway ที่เราสร้างขึ้นในข้อ 1** เพื่อนำข้อมูลมาแสดงผล และสร้างสรรค์ feature ต่าง ๆ ตามที่กำหนดให้

ในลายแทงร้านอาหารจะมี feature หลักอยู่ 2 อย่าง คือ Guide Detail และ Guide Restaurant
โดยผู้ทำแบบทดสอบอาจจะพิจารณาเพิ่มเติม feature อื่น ๆ และเพิ่มหน้าอื่น ๆ ได้ตามความเหมาะสมเพื่อให้ UX ของผู้ใช้งานดียิ่งขึ้น

**Guide Detail**

ในส่วนนี้ จะเป็นการเกริ่นนำถึงที่มาและวัตถุประสงค์ของลายแทงร้านอาหารนี้ โดยจะต้องมีองค์ประกอบดังนี้

- [ ] **ชื่อลายแทง**
- [ ] **คำอธิบาย** เป็นส่วนที่อธิบายว่าลายแทงนี้เกี่ยวกับอะไร มีร้านอาหารแบบไหนบ้างที่อยู่ในลายแทงนี้
- [ ] **แท็ก** เพื่อบอกคำสำคัญที่เกี่ยวข้องกับลายแทงนี้
- [ ] **รูปภาพปก** มีรูปภาพปกประกอบลายแทงเพื่อความสวยงาม และสามารถดึงดูดผู้ใช้งานให้อยากเข้ามาอ่านได้

**Guide Restaurant**

ในส่วนนี้ จะเป็นรายการของร้านอาหารทั้งหมดที่เกี่ยวข้องกับสิ่งที่ได้อธิบายไปในส่วนแรกของลายแทง
โดยในแต่ละรายการของร้านอาหาร จะต้องแสดงข้อมูลที่จำเป็นดังนี้

- [ ] รูปภาพประกอบของร้าน
- [ ] ชื่อร้าน
- [ ] คำบรรยายเกี่ยวกับร้านนี้ (ทำไมร้านนี้ถึงมาอยู่ในลายแทงได้)
- [ ] ที่อยู่ร้าน
- [ ] ช่องทางการติดต่อ
- [ ] จำนวนดาว หรือ คะแนน
- [ ] หมวดหมู่ของร้าน

และเพื่อควบคุมคุณภาพของโค้ดที่จะถูกส่งออกไปให้กับผู้ใช้งาน เราจึงจะต้องทำสิ่งต่อไปนี้

- [ ] เขียน unit test เพื่อมั่นใจได้ว่า website ที่ผู้ใช้งานใช้งานจะสามารถทำงานได้อย่างถูกต้องตาม feature ข้างต้น

หัวใจหลักของเราคือการมอบความสะดวกสบายให้กับผู้ใช้งาน ผู้สมัครสามารถเพิ่มเติม feature อื่นที่นอกเหนือจาก feature ที่กล่าวมาข้างต้นได้อย่างอิสระ เพื่อสร้างประสบการณ์ใช้งานที่สะดวกสบายต่อผู้ใช้งาน และเพิ่มยอดเข้าชมหรือยอดการเข้าถึงให้แก่ร้านที่ถูกจัดอันดับให้อยู่ในลายแทงนี้

## Grading Criteria

สำหรับการให้คะแนนแบบทดสอบ เรามีเกณฑ์การพิจารณาหลัก ๆ อยู่ด้วยกันดังนี้

- [ ] Website สามารถทำงานได้ถูกต้องตาม requirement ทั้งหมดที่กล่าวมา
- [ ] ความชำนาญในด้าน Javascript, Typescript และ React
- [ ] Good Developer Experience โค้ดที่เขียนมาสามารถนำไปพัฒนาต่อได้ยากไหม
- [ ] ระบบทั้งหน้าบ้าน (website) และหลังบ้าน (server) ต้องมีประสิทธิภาพที่ดีและมีความปลอดภัย
- [ ] Website มี UX/UI ที่ดี ผู้ใช้งานสามารถใช้งาน website ได้อย่างลื่นไหล
- [ ] การทำ SEO ได้อย่างเหมาะสม
- [ ] "เว็บไซต์ควรเป็นพื้นที่ที่ทุกคนสามารถเข้าถึงได้อย่างไม่มีอุปสรรค"

ทั้งนี้เกณฑ์การพิจารณาอาจจะมีการเปลี่ยนแปลงเพิ่มเติมตามดุลยพินิจของผู้ตรวจ โดยขึ้นอยู่กับผลงานที่ได้ส่งมอบมาให้
เช่น อาจจะมีการให้คะแนนเพิ่มเติมถ้ามีการทำ feature นอกเหนือจาก requirement ที่ได้ระบุไว้

## Data Server

เรามีการจัดเตรียม data server ที่พร้อมใช้งานมาให้แล้ว โดย data server เมื่อทำการ run ขึ้นมา จะมีการสร้าง service ย่อยๆ
โดยแต่ละ service ก็จะมีหน้าที่แตกต่างกันไป เช่น เก็บข้อมูลของร้านค้า เก็บข้อมูลลายแทง เป็นต้น โดยแต่ละ service เราสามารถเรียกใช้ได้ผ่านการยิง REST API

หน้าที่ของคุณคือการนำ API ต่าง ๆ ที่แต่ละ service มีให้ มาช่วยในการสร้าง endpoint ต่าง ๆ ที่จำเป็น ใน API Gateway
เพื่อให้ API Gateway สามารถทำงานได้ครบถ้วนตาม requirement ที่ได้ระบุไปข้างบน

### API Specification

เราได้มีการจัดเตรียม Swagger Docs เพื่อให้ผู้ทำแบบทดสอบสามารถเรียกดูและทดลองใช้ API ของแต่ละ service ได้โดยตรง
โดยจะสามารถเปิดดูได้เมื่อมีการ run data server โดย link จะถูกระบุไว้ในแต่ละหัวข้อของ service

#### 1. Guide Service

Swagger Docs: http://localhost:8888/ui

เป็น service ที่เก็บข้อมูลลายแทงต่าง ๆ ทั้งหมด โดยแต่ละลายแทงจะเป็นการรวบรวมร้านค้า (restaurant) ต่าง ๆ ที่น่าสนใจ หรือมีลักษณะที่เหมือนกัน เข้าไว้ด้วยกันให้เป็นระเบียบเรียบร้อย เพื่อให้ง่ายต่อการค้นหาหรือค้นพบโดยผู้ใช้งาน

##### 1.1 **Guide List**

สำหรับเรียกดูรายการของลายแทง (list of guides) ทั้งหมดที่มีในระบบ

###### Request

- URL: `localhost:8888/guides`
- Method: `GET`

###### Response

- Type: `application/json`
- Body:

  ```ts
  guideIds: string[]
  ```

  | ชื่อ field | คำอธิบาย                                    |
  | ---------- | ------------------------------------------- |
  | `guideIds` | รายการ id ของลายแทงทั้งหมดที่มีในระบบของเรา |

- Example:

  ```json
  {
    "guideIds": ["1", "2", "3"]
  }
  ```

##### 1.2 **Guide Detail**

สำหรับเรียกดูข้อมูลของแต่ละลายแทง โดยใน 1 ลายแทงจะประกอบด้วยคำอธิบายของลายแทง (description) พร้อมกับรายการลายแทง (guide item) หลาย ๆ อันด้วยกัน ซึ่งก็คือรายการของร้านค้าที่เกี่ยวข้องกับในคำอธิบายของลายแทง

รายการลายแทง (guide item) แต่ละอันจะประกอบด้วยข้อมูลหลัก ๆ 3 อย่าง

1. ไอดีของร้าน (restaurant id)
2. คำอธิบาย หรือคำโปรยของร้านนั้น ๆ (description)
3. รูปภาพประกอบ (list of photos)

**ตัวอย่างลักษณะของข้อมูล**

สมมติเรามีลายแทง (guide) ชื่อว่า "20 ร้านอาหารโรแมนติก เชียงใหม่ ควงคู่อิ่มเอมบรรยากาศหวานฉ่ำ!"

**คำอธิบายของลายแทง (description)** ก็ตือคำนำที่อยู่ในส่วนต้นๆ ที่อธิบายที่มาและจุดประสงค์ของลายแทงดังกล่าว ซึ่งอาจจะมีลักษณะข้อความเป็นประมาณนี้

```
"เชียงใหม่ไม่ได้มีดีแค่ความงามของธรรมชาติและเสน่ห์ล้านนา แต่ยังเต็มไปด้วยร้านอาหารอร่อย ๆ ที่มอบประสบการณ์สุดพิเศษและความพิถีพิถันในทุก ๆ เมนู นอกจากเรื่องของรสชาติที่ไม่ว่าจะเป็นอาหารไทยและอาหารต่างชาติที่อร่อยถูกปากแล้ว บรรยากาศดี ๆ ก็เป็นอีกปัจจัยสำคัญที่ช่วยเติมเต็มมื้ออาหารให้สมบูรณ์แบบมากยิ่งขึ้น วันนี้ทีมงาน Wongnai ขอเสนอ “20 ร้านอาหารโรแมนติกเชียงใหม่” ที่คัดสรรพิเศษมาเพื่อคุณ ไม่ว่าจะเป็นมื้อค่ำใต้แสงเทียนในสวนสวย หรือดินเนอร์สุดพิเศษท่ามกลางธรรมชาติและลมหนาว รับรองว่าทุกที่ในลิสต์นี้จะทำให้เพื่อน ๆ ประทับใจแน่นอนค่ะ"
```

**รายการลายแทง (guide item)** ก็คือร้านค้าแต่ละร้านที่อยู่ในจังหวัดเชียงใหม่ ที่ทีความสอดคล้องกับชื่อลายแทงและคำอธิบาย โดยบางส่วนของรายการลายแทงก็อาจจะมีลักษณะหน้าตาดังนี้

1. **restaurantId:** `2211821` (id ของร้าน Twist by David) <br>
   **description:** `"ร้านอาหาร Casual Fine Dining ในเชียงใหม่ “Twist Chiang Mai” ตัวร้านสีแดงโดดเด่น ตกแต่งแนว Cozy Modern Cuisine ทั้งโรแมนติก และอบอุ่น..."` <br>

2. **restaurantId:** `193099` (id ของร้าน Hotel yayee) <br>
   **description:** `"ค่ำแล้วไปชมวิวยามเย็นยามค่ำบนร้านอาหารโรแมนติกเชียงใหม่วิวเหมาะแก่การนั่งชิลที่โรงแรมสวย ๆ บรรยากาศดี ๆ แห่งนี้ ถ้ามาตอนพระอาทิตย์ยังไม่ตกดินจะได้เห็นวิวของดอยสุเทพ สวยจับใจทีเดียวแหละ แต่แอดไปตอนมืดแล้ว ก็จะได้วิวเมืองเชียงใหม่ ตกแต่งด้วยแสงไฟยามค่ำ สวยไปอีกแบบ..."` <br>

###### Request

- URL: `localhost:8888/guides/:id`
- Method: `GET`
- Params:
  - `id`: ไอดีของลายแทง (อาจจะได้มากจากการยิง API [Guide List](#11-guide-list))

###### Response

- Type: `application/json`
- Body:

  ```ts
  id: string
  title: string
  socialTitle: string
  shortDescription: string
  description: string
  coverPhoto: {
    id: string,
    smallUrl: string
    largeUrl: string
  }
  tags: string[]
  writeDate: string
  createdAt: string
  updatedAt: string
  itemIds: string[]
  ```

  | ชื่อ field            | คำอธิบาย                                                                                            |
  | --------------------- | --------------------------------------------------------------------------------------------------- |
  | `id`                  | id ของลายแทงปัจจุบัน                                                                                |
  | `title`               | ชื่อหัวข้อของลายแทง สำหรับแสดงผลในเว็บไซต์ของเราเอง                                                 |
  | `socialTitle`         | ชื่อหัวข้อของลายแทง สำหรับกรณีที่ต้องนำไปแสดงผลข้างบอกเว็บไซต์ เช่น social media หรือใช้ในการทำ SEO |
  | `shortDescription`    | คำอธิบาย หรือคำเกริ่นนำของลายแทง ฉบับย่อ                                                            |
  | `description`         | คำอธิบาย หรือคำเกริ่นนำของลายแทง ฉบับเต็ม                                                           |
  | `coverPhoto`          | รูปภาพปกของลายแทงนี้                                                                                |
  | `coverPhoto.id`       | ไอดีของรูปภาพ                                                                                       |
  | `coverPhoto.smallUrl` | url ไปยังรูปภาพขนาดเล็ก                                                                             |
  | `coverPhoto.largeUrl` | url ไปยังรูปภาพขนาดใหญ่                                                                             |
  | `tags`                | คำสำคัญที่เกี่ยวข้องกับลายแทงนี้                                                                    |
  | `writeDate`           | วันที่เขียนลายแทงนี้ สำหรับแสดงผลให้ผู้ใช้ทั่วไปเห็น                                                |
  | `createdAt`           | วันที่ลายแทงนี้ถูกเขียนขึ้น**เป็นครั้งแรก**                                                         |
  | `updatedAt`           | วันที่ลายแทงนี้ถูกแก้ไขครั้งล่าสุด                                                                  |
  | `itemIds`             | รายชื่อ id ของ "รายการลายแทง" ทั้งหมด ที่อยู่ในลายแทงนี้                                            |

- Example:

  ```json
  {
    "id": "1",
    "title": "20 ร้านอาหารโรแมนติก เชียงใหม่ ควงคู่อิ่มเอมบรรยากาศหวานฉ่ำ!",
    "socialTitle": "20 ร้านอาหารโรแมนติก เชียงใหม่ ควงคู่อิ่มเอมบรรยากาศหวานฉ่ำ! on wongnai.com",
    "shortDescription": "ออกเดตในวันสำคัญทั้งที นอกจากเรื่องอาหารแล้ว บรรยากาศนี้ก็สำคัญนะ! มาพบกับ 20 ร้านอาหารโรแมนติกในเชียงใหม่ พี่พาหวานใจคนไหนไปก็ไม่มีพลาด!",
    "description": "เชียงใหม่ไม่ได้มีดีแค่ความงามของธรรมชาติและเสน่ห์ล้านนา แต่ยังเต็มไปด้วยร้านอาหารอร่อย ๆ ที่มอบประสบการณ์สุดพิเศษและความพิถีพิถันในทุก ๆ เมนู นอกจากเรื่องของรสชาติที่ไม่ว่าจะเป็นอาหารไทยและอาหารต่างชาติที่อร่อยถูกปากแล้ว บรรยากาศดี ๆ ก็เป็นอีกปัจจัยสำคัญที่ช่วยเติมเต็มมื้ออาหารให้สมบูรณ์แบบมากยิ่งขึ้น วันนี้ทีมงาน Wongnai ขอเสนอ “20 ร้านอาหารโรแมนติกเชียงใหม่” ที่คัดสรรพิเศษมาเพื่อคุณ ไม่ว่าจะเป็นมื้อค่ำใต้แสงเทียนในสวนสวย หรือดินเนอร์สุดพิเศษท่ามกลางธรรมชาติและลมหนาว รับรองว่าทุกที่ในลิสต์นี้จะทำให้เพื่อน ๆ ประทับใจแน่นอนค่ะ",
    "coverPhoto": {
      "id": "87c3a0ef39e5480eb7ae933b629f39eb",
      "smallUrl": "https://img.wongnai.com/p/984x0/2024/11/30/87c3a0ef39e5480eb7ae933b629f39eb.jpg",
      "largeUrl": "https://img.wongnai.com/p/984x0/2024/11/30/87c3a0ef39e5480eb7ae933b629f39eb.jpg"
    },
    "tags": [
      "ดาดฟ้า",
      "บรรยากาศดี",
      "เชียงใหม่",
      "ร้านโรแมนติก",
      "ร้านอาหารริมน้ำ"
    ],
    "writeDate": "2024-12-02T09:39:31+07:00",
    "createdAt": "2018-02-14T15:53:04+07:00",
    "updatedAt": "2024-12-02T09:39:31+07:00",
    "itemIds": ["1", "2", "3"]
  }
  ```

##### 1.3 **Guide Item**

สำหรับเรียกดูรายการลายแทงแต่ละอัน

###### Request

- URL: `localhost:8888/guide-items/:id`
- Method: `GET`
- Params:
  - `id`: ไอดีของรายการลายแทง (อาจจะได้มากจากการยิง API [Guide Detail](#12-guide-detail) จาก field ชื่อว่า `itemIds`)

###### Response

- Type: `application/json`
- Body:

  ```ts
  id: string
  description: string
  restaurantId: string
  photos: {
    id: string,
    smallUrl: string
    largeUrl: string
  }[]
  ```

  | ชื่อ field          | คำอธิบาย                                             |
  | ------------------- | ---------------------------------------------------- |
  | `id`                | id ของรายการลายแทง                                   |
  | `description`       | คำอธิบายเกี่ยวกับร้านอาหารของรายการลายแทงนี้         |
  | `restaurantId`      | id ของร้านอาหารที่ผูกกับรายการลายแทงนี้              |
  | `photos`            | รายการของรูปภาพประกอบที่เกี่ยวข้องกับรายการลายแทงนี้ |
  | `photos[].id`       | ไอดีของรูปภาพ                                        |
  | `photos[].smallUrl` | url ไปยังรูปภาพขนาดเล็ก                              |
  | `photos[].largeUrl` | url ไปยังรูปภาพขนาดใหญ่                              |

- Example:

  ```json
  {
    "id": "1",
    "description": "เชียงใหม่ไม่ได้มีดีแค่ความงามของธรรมชาติและเสน่ห์ล้านนา แต่ยังเต็มไปด้วยร้านอาหารอร่อย ๆ ที่มอบประสบการณ์สุดพิเศษและความพิถีพิถันในทุก ๆ เมนู นอกจากเรื่องของรสชาติที่ไม่ว่าจะเป็นอาหารไทยและอาหารต่างชาติที่อร่อยถูกปากแล้ว บรรยากาศดี ๆ ก็เป็นอีกปัจจัยสำคัญที่ช่วยเติมเต็มมื้ออาหารให้สมบูรณ์แบบมากยิ่งขึ้น วันนี้ทีมงาน Wongnai ขอเสนอ “20 ร้านอาหารโรแมนติกเชียงใหม่” ที่คัดสรรพิเศษมาเพื่อคุณ ไม่ว่าจะเป็นมื้อค่ำใต้แสงเทียนในสวนสวย หรือดินเนอร์สุดพิเศษท่ามกลางธรรมชาติและลมหนาว รับรองว่าทุกที่ในลิสต์นี้จะทำให้เพื่อน ๆ ประทับใจแน่นอนค่ะ",
    "restaurantId": "2211821",
    "photos": [
      {
        "id": "fbe5c2420a3e40e6a7ad67ec512304ea",
        "smallUrl": "https://img.wongnai.com/p/624x0/2023/07/09/fbe5c2420a3e40e6a7ad67ec512304ea.jpg",
        "largeUrl": "https://img.wongnai.com/p/624x0/2023/07/09/fbe5c2420a3e40e6a7ad67ec512304ea.jpg"
      },
      {
        "id": "188c763873df4cd59dda2f37f5d94825",
        "smallUrl": "https://img.wongnai.com/p/400x0/2023/07/09/188c763873df4cd59dda2f37f5d94825.jpg",
        "largeUrl": "https://img.wongnai.com/p/400x0/2023/07/09/188c763873df4cd59dda2f37f5d94825.jpg"
      }
    ]
  }
  ```

#### 2. Restaurant Service

Swagger Docs: http://localhost:9999/ui

เป็น service ที่เก็บข้อมูลร้านอาหารทั้งหมด

##### 2.1 **Restaurant**

ดึงข้อมูลร้านค้า 1 ร้าน เช่น ชื่อ หมวดหมู่ร้าน ที่อยู่ เบอร์โทร วันเวลาเปิดปิด เรตติ้ง

###### Request

- URL: `localhost:9999/restaurants/:id`
- Method: `GET`
- Params:
  - `id`: ไอดีของรายการลายแทง (อาจจะได้มากจากการยิง API [Guide Detail](#12-guide-detail) จาก field ชื่อว่า `itemIds`)

###### Response

- Type: `application/json`
- Body:

  ```ts
  id: string
  name: string
  branch?: string
  rating: number
  numberOfReviews: number
  url: string
  address: string
  lat: number
  lng: number
  phoneNo: string
  categories: string[]
  line?: string
  instagram?: string
  facebook?: string
  workingHours: {
    day: number
    open: string
    close: string
  }[]
  official: boolean
  delivery: boolean
  pickup: boolean
  ```

  | ชื่อ field           | คำอธิบาย                                                                                                                              |
  | -------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
  | `id`                 | id ของร้านอาหาร                                                                                                                       |
  | `name`               | ชื่อร้านอาหาร                                                                                                                         |
  | `branch`             | ชื่อสาขาของร้านอาหาร (ไม่บังคับ)                                                                                                      |
  | `rating`             | จำนวนดาวของร้านอาหาร ค่าที่เป็นไปได้ ตั้งแต่ 0 - 5 (เลขทศนิยม)                                                                        |
  | `url`                | url ที่เป็นตัวแทนของร้านอาหารนี้                                                                                                      |
  | `address`            | ที่อยู่แบบเต็มของร้านอาหารนี้                                                                                                         |
  | `lat`                | ตำแหน่งละติจูดของร้านอาหาร (เลขทศนิยม)                                                                                                |
  | `lng`                | ตำแหน่งลองจิจูดของร้านอาหาร (เลขทศนิยม)                                                                                               |
  | `phoneNo`            | เบอร์โทรศัพท์ที่สามารถติดต่อได้ของร้านอาหาร                                                                                           |
  | `categories`         | รายชื่อของหมวดหมู่ที่เกี่ยวข้องกับร้านอาหารนี้                                                                                        |
  | `line`               | id ของ LINE (แอพพลิเคชันส่งข้อความชื่อดังของไทย) (ไม่บังคับ)                                                                          |
  | `instagram`          | id หรือ url ไปยัง Instagram ของร้าน (ไม่บังคับ)                                                                                       |
  | `facebook`           | ชื่อเพจ หรือ url Facebook ของร้าน (ไม่บังคับ)                                                                                         |
  | `workingHours`       | รายการข้อมูลวันทำการของร้าน โดยแต่ละรายการจะเป็นการบอกว่า วันที่นี้ของสัปดาห์ เปิดทำการตั้งแต่เวลาเท่าไหร่ และปิดทำการที่เวลาเท่าไหร่ |
  | `workingHours.day`   | วันที่ของสัปดาห์ โดยเริ่มตั้งแต่เลข 1 ก็คือวันจันทร์ และเพิ่มขึ้นไปเรื่อย ๆ จนถึงเลข 7 ก็คือวันอาทิตย์                                |
  | `workingHours.open`  | เปิดตั้งแต่เวลาเท่าไหร่ ในรูปแบบ "ชั่วโมง:นาที" แบบ 24 ชั่วโมง                                                                        |
  | `workingHours.close` | ปิดเมื่อเวลาเท่าไหร่ ในรูปแบบ "ชั่วโมง:นาที" แบบ 24 ชั่วโมง                                                                           |
  | `official`           | ร้านนี้เป็นร้าน official หรือไม่ (เจ้าของร้านจริง ๆ เป็นเจ้าของข้อมูล)                                                                |
  | `delivery`           | ร้านนี้เปิดใช้งานระบบ delivery หรือไม่                                                                                                |
  | `pickup`             | ร้านนี้เปิดใช้งานระบบ pickup หรือไม่ (สั่งผ่านแอพพลิเคชัน และเลือกรับที่ร้านเอง)                                                      |

- Example:

  ```json
  {
    "id": "2211821",
    "name": "Twist by David",
    "rating": 4.18,
    "numberOfReviews": 3,
    "url": "restaurants/2211821QM-twist-by-david",
    "address": "204 Fhaham ตำบล ฟ้าฮ่าม อำเภอเมืองเชียงใหม่ เชียงใหม่ 50300",
    "lat": 18.8249704,
    "lng": 99.01114450000001,
    "phoneNo": "0931679740",
    "categories": ["อาหารนานาชาติ"],
    "workingHours": [
      {
        "day": 1,
        "open": "11:00",
        "close": "22:00"
      },
      {
        "day": 2,
        "open": "11:00",
        "close": "22:00"
      },
      {
        "day": 3,
        "open": "11:00",
        "close": "22:00"
      },
      {
        "day": 4,
        "open": "11:00",
        "close": "22:00"
      },
      {
        "day": 5,
        "open": "11:00",
        "close": "22:00"
      },
      {
        "day": 6,
        "open": "11:00",
        "close": "22:00"
      },
      {
        "day": 7,
        "open": "11:00",
        "close": "22:00"
      }
    ],
    "official": false,
    "delivery": false,
    "pickup": false
  }
  ```

## Run project

เราได้ทำการสร้างโปรเจคทั้ง data-server, api-gateway และ web ไว้ให้แล้ว
โดย data-server นั้นสามารถ run ได้เลยเพื่อใช้ในการทำ api-gateway
ส่วน api-gateway และ web จะเป็นหน้าที่ของผู้ทำแบบทดสอบในการทำให้ทั้งคู่สามารถ run ออกมาได้สำเร็จ

ผู้ทำแบบทดสอบจะต้อง develop api-gateway และ web ตาม requirements ทั้งหมดที่ได้กล่าวมาข้างต้น
โดยท้ายที่สุด script ดังต่อไปนี้จะต้องสามารถ run ทั้งสอง project พร้อมกันได้ที่ root folder อย่างถูกต้อง

1. Install dependencies ทั้งหมด

   ```sh
   pnpm install
   ```

   หรือ

   ```sh
   yarn
   ```

2. Run project ทั้งหมด

   ```sh
   pnpm run -r dev
   ```

## FAQ

### 1. สามารถแก้ไขอะไรได้บ้างใน project ที่ได้รับมา

สามารถแก้ได้อย่างอิสระ โดยที่ยังทำตาม requirement ที่กำหนดมาให้ได้ และสามารถ run ได้สำเร็จ
